# Data Inventory

This document catalogs the data sources, their structure, and the transformation process used in the project.

## 1. Primary Data Source

The project relies exclusively on a single public dataset to ensure reproducibility.

*   **Dataset Name:** Player Market Values and Statistics
*   **Author/Provider:** David Cariboo
*   **Platform:** Kaggle
*   **Direct Link:** [https://www.kaggle.com/datasets/davidcariboo/player-scores/data](https://www.kaggle.com/datasets/davidcariboo/player-scores/data)
*   **License:** Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0). Allows non-commercial use.
*   **Snapshot Date:** Data was downloaded in September 2025.

## 2. Description of Files Used

From the dataset's collection of files, the following were used in the ETL pipeline:

*   **`players.csv`**
    *   **Description:** Contains demographic and profile information for each player. This is the central player table.
    *   **Key Columns Used:** `player_id`, `name`, `date_of_birth`, `position`, `sub_position`, `foot`, `height_in_cm`, `current_club_name`, `country_of_citizenship`, `contract_expiration_date`.

*   **`player_valuations.csv`**
    *   **Description:** Contains a historical record of market valuations for each player over time.
    *   **Key Columns Used:** `player_id`, `date`, `market_value_in_eur`, `player_club_domestic_competition_id`.

*   **`appearances.csv`**
    *   **Description:** Records each player's performance in individual matches (goals, assists, minutes played).
    *   **Key Columns Used:** `player_id`, `game_id`, `date`, `goals`, `assists`, `minutes_played`.

*   **`competitions.csv`**
    *   **Description:** Metadata table about competitions (leagues, cups).
    *   **Key Columns Used:** `competition_id`, `name`.

## 3. Ingestion and Transformation Process (ETL)

The process for creating the modeling dataset is encapsulated in the script `src/etl/build_master_dataset.py`. The main steps are:

1.  **Loading:** The 4 CSVs mentioned above are loaded.

## 4. Final Enriched Dataset

The final dataset that feeds the model is generated by the script `src/features/build_features.py` and through the pipeline declared in `dvc.yaml`. The result is saved as `data/processed/contextual_featured_dataset.csv`.

*   **Description:** This dataset takes the `master_player_dataset.csv` and adds a set of engineered features designed to improve model performance.
*   **New Features Created:**
    *   **Normalized Performance:** `minutes_per_90`, `goals_per_90`, `assists_per_90`, `goals_plus_assists_per_90`.
    *   **Contractual:** `contract_months_remaining`.
    *   **Note:** Categorical dummies (position/foot) were evaluated but are not part of the minimal feature set used by the final model.
    *   **Contextual:** `league_strength_factor`, `club_tier`.